{% extends 'base.html' %}

{% block title %}Dashboard{% endblock title %}

{% block content %}
<div class=" text-center" style="padding-top: 50px;">

    <h4>Welcome to the dashboard page, <b>{{ user }}! ðŸ‘‹</b></h4>
    <hr style="border: 1px solid #000; margin: 20px 0;">

    <a href="{% url 'create_record' %}" class="btn btn-outline-primary">Create a new record</a>

    <hr style="border: 1px solid black; margin: 30px 50px;">

    <div class="text-center">
        <form class="form-inline my-2 my-lg-0" action="{% url 'search' %}" method="GET"
            style="margin-left: 50px; margin-right: 50px;">
            <input class="form-control mr-sm-2" name="query" type="search" placeholder="write something here"
                aria-label="Search">
            &nbsp;
            <button type='submit' class="btn btn-outline-dark w-100 btn-block p-2">Search</button>
        </form>
    </div>

    <hr style="border: 1px solid black; margin: 30px 50px;">

    <table class="table table-primary table-hover table-bordered">
        <thead class="table-dark">
            <tr class="text-center">
                <th scope="col">ID</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Email</th>
                <th scope="col">Phone</th>
                <th scope="col">Address</th>
                <th scope="col">City</th>
                <th scope="col">Country</th>
                <th scope="col">Date</th>
                <th scope="col">View</th>
            </tr>
        </thead>
        <tbody>
            {% if records %}
            {% for i in records %}
            <tr class="text-center">
                <td> {{i.id}} </td>
                <td> {{i.first_name}} </td>
                <td> {{i.last_name}} </td>
                <td> {{i.email}} </td>
                <td> {{i.phone}} </td>
                <td> {{i.address}} </td>
                <td> {{i.city}} </td>
                <td> {{i.country}} </td>
                <td> {{i.creation_date}} </td>
                <td><a href="{% url 'record_detail' i.id %}" class="btn btn-sm btn-outline-primary">View</a></td>
            </tr>
            {% endfor %}
            {% else %}
            <tr style="margin-top: 10px;">
                <td colspan="10" class="text-center">
                    <br><br>
                    <div class="alert alert-warning" role="alert">You don't have any record yet!</div>
                </td>
            </tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}